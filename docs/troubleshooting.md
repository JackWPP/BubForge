# 常见问题与排查

## 1. 启动后无法抽帧，提示找不到 FFmpeg
现象：执行区间抽帧时报错，提示缺少 `ffmpeg/ffprobe`。

排查：
- 在终端执行：`ffmpeg -version`、`ffprobe -version`
- 若命令不可用，请安装 FFmpeg 并加入 PATH

## 2. 按 S 保存关键帧失败
现象：点击“保存关键帧”后弹出失败提示。

排查：
- 确认项目目录和 `frames/` 子目录可写
- 确认磁盘空间充足
- 尝试更短的路径（Windows 超长路径可能影响写盘）

## 3. 设了 In/Out 但区间列表没看到
现象：设置区间后列表没有新增。

排查：
- 确认先设 In，再设 Out
- Out < In 会自动交换，不会丢失
- 若区间与已有区间完全一致，会被去重，不重复显示

## 4. 时间线没看到关键帧标记
现象：保存关键帧后，时间线标记不明显。

排查：
- 关键帧标记在时间线滑条下沿，建议先放大窗口观察
- 重新打开同一视频会从 `metadata/frames.csv` 重建标记

## 5. 布局变乱了
现象：Dock 面板被拖散，找不到时间线或导出面板。

处理：
- 菜单 `视图` 里重新勾选面板
- 点击“重置工作区”恢复默认布局

## 6. 快捷键不生效
现象：按键无反应或行为不符合预期。

排查：
- 确认视频已打开（部分快捷键依赖视频状态）
- 检查是否与输入控件焦点冲突
- 方向键多档步进：
  - `←/→`：1帧
  - `Shift+←/→`：10帧
  - `Ctrl+←/→`：约1秒
  - `Ctrl+Shift+←/→`：约5秒

## 7. 开发时 LSP 诊断无法使用
现象：`lsp_diagnostics` 无法启动。

说明：
- Windows + Bun 1.3.5 存在已知问题
- 可升级 Bun，或在 WSL 环境使用 LSP
